import pandas as pd

from diploma_api.settings import RapidAPI_KEY
from datetime import datetime, timedelta
import requests
import math


def get_date_start(date_end):
    previous_date = datetime.strptime(date_end, '%Y-%m-%d') - timedelta(days=30 * 11)
    return previous_date.replace(day=1).strftime('%Y-%m-%d')


def get_last_year_weather_data(coordinates, date_end, date_start=None):
    response = requests.get(
        "https://meteostat.p.rapidapi.com/point/monthly",
        headers={
            "X-RapidAPI-Key": RapidAPI_KEY,
            "X-RapidAPI-Host": "meteostat.p.rapidapi.com"
        },
        params={
            "lat": coordinates[0],
            "lon": coordinates[1],
            "start": get_date_start(date_end) if date_start is None else date_start,
            "end": date_end,
        }
    )

    return response.json()


def get_pr_adj(data):
    PR = 0.75
    TC = 1 - 0.005 * (data.get("tavg") - 25) if data.get("tavg") is not None else 1
    WC = 1 + 0.01 * math.sqrt(data.get("wspd", 0)) if data.get("wspd", 0) is not None else 1
    SR = data.get("tsun") / 44640 if data.get("tsun") is not None else 1000 / 44640
    PC = math.exp(-data.get("prcp") / 100) if data.get("prcp") is not None else math.exp(-0 / 100)
    print(f'tavg: {data.get("tavg")}, wspd: {data.get("wspd")}, tsun: {data.get("tsun")}, prcp: {data.get("prcp")}')
    print(TC, WC, SR, PC)
    return PR * TC * WC * SR * PC


# TODO typical_solar_radiation_for_region
def get_solar_radiation(tsun, days_in_month):
    """
    типичная мощность солнечного излучения в ясный день в полдень составляет 1000 Вт/м²
    :param tsun:
    :param days_in_month:
    :return:
    """
    return (tsun / 60) / 1000 / days_in_month if tsun and tsun is not None else 1000 / days_in_month


def get_panels_num(polygon_area_m2, panel_area=1.6):
    """

    :param polygon_area_m2:
    :param panel_area: panel_area=1.6 м²
    :param area: м²
    :return:
    """
    return polygon_area_m2 / panel_area


def get_efficiency(num_panels, pr_adj, data_, panel_efficiency=0.156):
    """
    в kWh
    радиация в kWh/m²/день
    :param data_:
    :param panel_efficiency:
    :param num_panels:
    :param pr_adj:
    :return:
    """
    print(pr_adj)
    days_in_month = pd.to_datetime(data_['date']).days_in_month
    solar_radiation = get_solar_radiation(data_['tsun'], days_in_month)
    return num_panels * panel_efficiency * solar_radiation * pr_adj * days_in_month


data = get_last_year_weather_data([27.10460180195585, 50.32614931455628], "2023-05-01", "2003-05-01")
data = {
    'data':
        [
            {'date': '2004-01-01', 'tavg': 17.8, 'tmin': None, 'tmax': None, 'prcp': 31.0, 'wspd': None, 'pres': 1015.9,
             'tsun': None},
            {'date': '2005-01-01', 'tavg': 14.3, 'tmin': 9.3, 'tmax': 20.1, 'prcp': 34.0, 'wspd': None, 'pres': 1019.0,
             'tsun': None},
            {'date': '2006-01-01', 'tavg': 15.5, 'tmin': 9.8, 'tmax': 21.7, 'prcp': 2.0, 'wspd': None, 'pres': 1019.1,
             'tsun': 11220},
            {'date': '2007-01-01', 'tavg': 12.9, 'tmin': 8.2, 'tmax': 18.5, 'prcp': 16.0, 'wspd': None, 'pres': 1022.3,
             'tsun': 13200},
            {'date': '2008-01-01', 'tavg': 13.1, 'tmin': 8.9, 'tmax': 17.9, 'prcp': 41.0, 'wspd': None, 'pres': 1018.9,
             'tsun': 10320},
            {'date': '2009-01-01', 'tavg': 13.3, 'tmin': 7.3, 'tmax': 20.2, 'prcp': 0.5, 'wspd': None, 'pres': 1019.9,
             'tsun': 14460},
            {'date': '2010-01-01', 'tavg': 16.7, 'tmin': 11.0, 'tmax': 23.7, 'prcp': 0.5, 'wspd': None, 'pres': 1018.3,
             'tsun': 15900},
            {'date': '2011-01-01', 'tavg': 15.6, 'tmin': 11.0, 'tmax': 20.8, 'prcp': 50.0, 'wspd': None, 'pres': 1017.2,
             'tsun': 10920},
            {'date': '2012-01-01', 'tavg': 15.0, 'tmin': 9.5, 'tmax': 21.5, 'prcp': 0.0, 'wspd': None, 'pres': 1017.9,
             'tsun': 15120},
            {'date': '2013-01-01', 'tavg': 16.7, 'tmin': 11.4, 'tmax': 23.4, 'prcp': 3.0, 'wspd': None, 'pres': 1018.7,
             'tsun': 15780},
            {'date': '2014-01-01', 'tavg': 15.0, 'tmin': 11.1, 'tmax': 20.0, 'prcp': 35.0, 'wspd': None, 'pres': 1020.0,
             'tsun': 14040},
            {'date': '2015-01-01', 'tavg': 18.0, 'tmin': 14.9, 'tmax': 21.5, 'prcp': None, 'wspd': 15.2, 'pres': None,
             'tsun': None},
            {'date': '2016-01-01', 'tavg': 16.1, 'tmin': 15.4, 'tmax': 20.5, 'prcp': None, 'wspd': 20.0, 'pres': None,
             'tsun': None},
            {'date': '2017-01-01', 'tavg': 16.6, 'tmin': None, 'tmax': None, 'prcp': None, 'wspd': None, 'pres': None,
             'tsun': None},
            {'date': '2018-01-01', 'tavg': 16.6, 'tmin': 15.3, 'tmax': None, 'prcp': None, 'wspd': None, 'pres': None,
             'tsun': None},
            {'date': '2019-01-01', 'tavg': 17.6, 'tmin': 12.5, 'tmax': 23.9, 'prcp': 1.0, 'wspd': 17.3, 'pres': 1018.9,
             'tsun': 14820},
            {'date': '2020-01-01', 'tavg': 15.7, 'tmin': 11.2, 'tmax': 21.0, 'prcp': 26.0, 'wspd': 15.8, 'pres': 1018.5,
             'tsun': 15720},
            {'date': '2021-01-01', 'tavg': 16.9, 'tmin': 10.8, 'tmax': 23.9, 'prcp': 0.0, 'wspd': 13.9, 'pres': 1019.3,
             'tsun': 17160},
            {'date': '2022-01-01', 'tavg': 15.7, 'tmin': 11.1, 'tmax': 21.3, 'prcp': 49.2, 'wspd': 14.1, 'pres': 1017.8,
             'tsun': None},
            {'date': '2023-01-01', 'tavg': 15.7, 'tmin': 12.0, 'tmax': 20.0, 'prcp': 67.8, 'wspd': 13.7, 'pres': 1020.1,
             'tsun': None},
            {'date': '2004-02-01', 'tavg': 18.2, 'tmin': 11.7, 'tmax': 24.2, 'prcp': 0.5, 'wspd': None, 'pres': 1018.6,
             'tsun': 14220},
            {'date': '2005-02-01', 'tavg': 16.0, 'tmin': 11.3, 'tmax': 21.9, 'prcp': 18.0, 'wspd': None, 'pres': 1016.2,
             'tsun': 11880},
            {'date': '2006-02-01', 'tavg': 18.1, 'tmin': 12.9, 'tmax': 24.0, 'prcp': 7.0, 'wspd': None, 'pres': 1016.5,
             'tsun': 10260},
            {'date': '2007-02-01', 'tavg': 17.2, 'tmin': 12.9, 'tmax': 23.2, 'prcp': 27.0, 'wspd': None, 'pres': 1015.2,
             'tsun': 13440},
            {'date': '2008-02-01', 'tavg': 15.4, 'tmin': 9.7, 'tmax': 22.4, 'prcp': 0.0, 'wspd': None, 'pres': 1020.7,
             'tsun': 13260},
            {'date': '2009-02-01', 'tavg': 18.1, 'tmin': 12.3, 'tmax': 24.7, 'prcp': 0.5, 'wspd': None, 'pres': 1015.4,
             'tsun': 11160},
            {'date': '2010-02-01', 'tavg': 19.2, 'tmin': 12.9, 'tmax': 26.7, 'prcp': 2.0, 'wspd': None, 'pres': 1014.2,
             'tsun': 12060},
            {'date': '2011-02-01', 'tavg': 17.1, 'tmin': 12.3, 'tmax': 22.7, 'prcp': 9.0, 'wspd': None, 'pres': 1013.8,
             'tsun': 12060},
            {'date': '2012-02-01', 'tavg': 16.4, 'tmin': 11.0, 'tmax': 22.9, 'prcp': 6.0, 'wspd': 19.2, 'pres': 1016.3,
             'tsun': 12540},
            {'date': '2013-02-01', 'tavg': 17.9, 'tmin': 12.5, 'tmax': 25.2, 'prcp': 0.5, 'wspd': None, 'pres': 1017.4,
             'tsun': 15060},
            {'date': '2014-02-01', 'tavg': 16.3, 'tmin': 11.0, 'tmax': 22.7, 'prcp': 0.5, 'wspd': None, 'pres': 1016.9,
             'tsun': 14940},
            {'date': '2015-02-01', 'tavg': 19.1, 'tmin': None, 'tmax': None, 'prcp': None, 'wspd': None, 'pres': None,
             'tsun': None},
            {'date': '2016-02-01', 'tavg': 17.5, 'tmin': 11.5, 'tmax': 24.5, 'prcp': None, 'wspd': None, 'pres': None,
             'tsun': None},
            {'date': '2017-02-01', 'tavg': 14.8, 'tmin': 10.4, 'tmax': 19.7, 'prcp': None, 'wspd': 14.7, 'pres': None,
             'tsun': None},
            {'date': '2018-02-01', 'tavg': 19.2, 'tmin': 16.8, 'tmax': 23.6, 'prcp': None, 'wspd': 14.8, 'pres': None,
             'tsun': None},
            {'date': '2019-02-01', 'tavg': 17.2, 'tmin': 12.6, 'tmax': 22.8, 'prcp': 20.0, 'wspd': 15.4, 'pres': 1017.6,
             'tsun': 13140},
            {'date': '2020-02-01', 'tavg': 17.8, 'tmin': 11.5, 'tmax': 24.7, 'prcp': 0.0, 'wspd': 16.4, 'pres': 1018.1,
             'tsun': 15780},
            {'date': '2021-02-01', 'tavg': 18.5, 'tmin': 12.4, 'tmax': 25.8, 'prcp': 4.0, 'wspd': 15.2, 'pres': 1017.2,
             'tsun': 14100},
            {'date': '2022-02-01', 'tavg': 18.1, 'tmin': 12.0, 'tmax': 25.2, 'prcp': 0.9, 'wspd': 15.8, 'pres': 1015.9,
             'tsun': None},
            {'date': '2023-02-01', 'tavg': 18.4, 'tmin': 13.4, 'tmax': 24.5, 'prcp': 4.2, 'wspd': 17.6, 'pres': 1016.9,
             'tsun': None},
            {'date': '2004-03-01', 'tavg': 21.8, 'tmin': 14.4, 'tmax': 30.4, 'prcp': 2.0, 'wspd': None, 'pres': 1014.6,
             'tsun': None},
            {'date': '2005-03-01', 'tavg': 21.4, 'tmin': 16.2, 'tmax': 26.1, 'prcp': 111.0, 'wspd': None,
             'pres': 1014.5,
             'tsun': 13560},
            {'date': '2006-03-01', 'tavg': 21.7, 'tmin': 15.0, 'tmax': 29.1, 'prcp': 4.0, 'wspd': None, 'pres': 1013.1,
             'tsun': 15660},
            {'date': '2007-03-01', 'tavg': 21.1, 'tmin': 15.3, 'tmax': 28.0, 'prcp': 3.0, 'wspd': None, 'pres': 1012.8,
             'tsun': 14220},
            {'date': '2008-03-01', 'tavg': 23.2, 'tmin': 15.0, 'tmax': 32.7, 'prcp': 0.0, 'wspd': None, 'pres': 1012.0,
             'tsun': 17100},
            {'date': '2009-03-01', 'tavg': 20.3, 'tmin': 14.5, 'tmax': 27.3, 'prcp': 11.0, 'wspd': None, 'pres': 1013.1,
             'tsun': 12120},
            {'date': '2010-03-01', 'tavg': 22.9, 'tmin': 15.2, 'tmax': 31.8, 'prcp': 1.0, 'wspd': None, 'pres': 1013.9,
             'tsun': 15480},
            {'date': '2011-03-01', 'tavg': 20.8, 'tmin': 14.9, 'tmax': 27.8, 'prcp': 0.5, 'wspd': None, 'pres': 1013.4,
             'tsun': 12780},
            {'date': '2012-03-01', 'tavg': 19.3, 'tmin': 13.6, 'tmax': 26.1, 'prcp': 7.0, 'wspd': 21.1, 'pres': 1014.4,
             'tsun': 16380},
            {'date': '2013-03-01', 'tavg': 21.9, 'tmin': 14.6, 'tmax': 29.5, 'prcp': 8.0, 'wspd': None, 'pres': 1013.8,
             'tsun': 17460},
            {'date': '2014-03-01', 'tavg': 22.4, 'tmin': 16.2, 'tmax': 29.3, 'prcp': 9.0, 'wspd': None, 'pres': 1013.3,
             'tsun': 16260},
            {'date': '2015-03-01', 'tavg': 22.0, 'tmin': 19.7, 'tmax': 25.5, 'prcp': None, 'wspd': None, 'pres': None,
             'tsun': None},
            {'date': '2016-03-01', 'tavg': 22.7, 'tmin': 20.2, 'tmax': 26.1, 'prcp': None, 'wspd': None, 'pres': None,
             'tsun': None},
            {'date': '2017-03-01', 'tavg': 20.9, 'tmin': 16.4, 'tmax': 26.1, 'prcp': None, 'wspd': 13.8, 'pres': None,
             'tsun': None},
            {'date': '2018-03-01', 'tavg': 24.7, 'tmin': None, 'tmax': 29.5, 'prcp': None, 'wspd': None, 'pres': None,
             'tsun': None},
            {'date': '2019-03-01', 'tavg': 19.9, 'tmin': 13.8, 'tmax': 26.5, 'prcp': 14.0, 'wspd': 16.3, 'pres': 1014.3,
             'tsun': None},
            {'date': '2020-03-01', 'tavg': 21.5, 'tmin': 15.4, 'tmax': 28.5, 'prcp': 1.0, 'wspd': 16.3, 'pres': 1012.6,
             'tsun': 17220},
            {'date': '2021-03-01', 'tavg': 23.5, 'tmin': 16.3, 'tmax': 31.5, 'prcp': 0.5, 'wspd': 18.0, 'pres': 1013.1,
             'tsun': 18180},
            {'date': '2022-03-01', 'tavg': 21.7, 'tmin': 15.1, 'tmax': 29.6, 'prcp': 0.6, 'wspd': 18.2, 'pres': 1013.2,
             'tsun': None},
            {'date': '2023-03-01', 'tavg': 23.0, 'tmin': 16.6, 'tmax': 30.2, 'prcp': 13.5, 'wspd': 14.3, 'pres': 1012.5,
             'tsun': None},
            {'date': '2004-04-01', 'tavg': 25.6, 'tmin': 19.8, 'tmax': 31.4, 'prcp': 6.0, 'wspd': None, 'pres': 1009.6,
             'tsun': None},
            {'date': '2005-04-01', 'tavg': 26.9, 'tmin': 20.0, 'tmax': 35.0, 'prcp': 3.0, 'wspd': None, 'pres': 1011.3,
             'tsun': 16080},
            {'date': '2006-04-01', 'tavg': 26.8, 'tmin': 20.3, 'tmax': 33.8, 'prcp': 11.0, 'wspd': None, 'pres': 1009.8,
             'tsun': 14940},
            {'date': '2007-04-01', 'tavg': 27.1, 'tmin': 20.9, 'tmax': 34.3, 'prcp': 22.0, 'wspd': None, 'pres': 1010.2,
             'tsun': 12000},
            {'date': '2008-04-01', 'tavg': 27.0, 'tmin': 19.7, 'tmax': 35.2, 'prcp': 2.0, 'wspd': None, 'pres': 1009.5,
             'tsun': None},
            {'date': '2009-04-01', 'tavg': 25.7, 'tmin': 19.7, 'tmax': 32.8, 'prcp': 27.0, 'wspd': None, 'pres': 1010.6,
             'tsun': 13440},
            {'date': '2010-04-01', 'tavg': 27.3, 'tmin': 21.2, 'tmax': 33.9, 'prcp': 39.0, 'wspd': None, 'pres': 1010.4,
             'tsun': 12000},
            {'date': '2011-04-01', 'tavg': 26.8, 'tmin': 20.9, 'tmax': 33.9, 'prcp': 27.0, 'wspd': None, 'pres': 1009.0,
             'tsun': 11760},
            {'date': '2012-04-01', 'tavg': 26.5, 'tmin': 19.9, 'tmax': 33.7, 'prcp': 8.0, 'wspd': None, 'pres': 1009.8,
             'tsun': 16260},
            {'date': '2013-04-01', 'tavg': 27.1, 'tmin': 20.7, 'tmax': 34.5, 'prcp': 1.0, 'wspd': 15.8, 'pres': 1008.8,
             'tsun': 15480},
            {'date': '2014-04-01', 'tavg': 27.7, 'tmin': 20.4, 'tmax': 35.3, 'prcp': 4.0, 'wspd': None, 'pres': 1011.2,
             'tsun': 18720},
            {'date': '2015-04-01', 'tavg': 27.7, 'tmin': None, 'tmax': None, 'prcp': None, 'wspd': None, 'pres': None,
             'tsun': None},
            {'date': '2016-04-01', 'tavg': 26.5, 'tmin': None, 'tmax': 31.5, 'prcp': None, 'wspd': None, 'pres': None,
             'tsun': None},
            {'date': '2017-04-01', 'tavg': 28.6, 'tmin': None, 'tmax': None, 'prcp': None, 'wspd': None, 'pres': None,
             'tsun': None},
            {'date': '2018-04-01', 'tavg': 27.2, 'tmin': None, 'tmax': None, 'prcp': None, 'wspd': None, 'pres': None,
             'tsun': None},
            {'date': '2019-04-01', 'tavg': 25.6, 'tmin': 19.7, 'tmax': 32.6, 'prcp': 30.0, 'wspd': 16.5, 'pres': 1011.1,
             'tsun': 15540},
            {'date': '2020-04-01', 'tavg': 28.2, 'tmin': 22.4, 'tmax': 35.3, 'prcp': 10.0, 'wspd': 15.8, 'pres': 1009.6,
             'tsun': 14520},
            {'date': '2021-04-01', 'tavg': 28.4, 'tmin': 20.7, 'tmax': 36.7, 'prcp': 0.5, 'wspd': 16.5, 'pres': 1010.2,
             'tsun': 18960},
            {'date': '2022-04-01', 'tavg': 27.8, 'tmin': 20.3, 'tmax': 36.0, 'prcp': 2.3, 'wspd': 12.3, 'pres': 1009.0,
             'tsun': None},
            {'date': '2023-04-01', 'tavg': 26.1, 'tmin': 19.6, 'tmax': 33.5, 'prcp': 3.4, 'wspd': 14.7, 'pres': 1010.6,
             'tsun': None},
            {'date': '2003-05-01', 'tavg': 32.5, 'tmin': 25.3, 'tmax': 40.3, 'prcp': 0.0, 'wspd': None, 'pres': 1007.1,
             'tsun': 14400},
            {'date': '2004-05-01', 'tavg': 31.8, 'tmin': 19.0, 'tmax': 44.4, 'prcp': 0.0, 'wspd': None, 'pres': 1005.5,
             'tsun': None},
            {'date': '2005-05-01', 'tavg': 31.5, 'tmin': 23.9, 'tmax': 40.0, 'prcp': 0.0, 'wspd': None, 'pres': 1006.3,
             'tsun': None},
            {'date': '2006-05-01', 'tavg': 33.3, 'tmin': 23.0, 'tmax': 45.2, 'prcp': 0.0, 'wspd': None, 'pres': 1005.7,
             'tsun': 19140},
            {'date': '2007-05-01', 'tavg': 33.1, 'tmin': 25.6, 'tmax': 41.0, 'prcp': 3.0, 'wspd': None, 'pres': 1005.9,
             'tsun': 18840},
            {'date': '2008-05-01', 'tavg': 32.8, 'tmin': 25.3, 'tmax': 40.6, 'prcp': 0.0, 'wspd': None, 'pres': 1005.0,
             'tsun': 18420},
            {'date': '2009-05-01', 'tavg': 32.9, 'tmin': 25.5, 'tmax': 41.2, 'prcp': 0.0, 'wspd': None, 'pres': 1006.0,
             'tsun': 18480},
            {'date': '2010-05-01', 'tavg': 32.2, 'tmin': 25.3, 'tmax': 38.7, 'prcp': 33.0, 'wspd': None, 'pres': 1005.5,
             'tsun': 14100},
            {'date': '2011-05-01', 'tavg': 33.1, 'tmin': 25.8, 'tmax': 41.0, 'prcp': 5.0, 'wspd': None, 'pres': 1004.5,
             'tsun': 18360},
            {'date': '2012-05-01', 'tavg': 34.0, 'tmin': 26.4, 'tmax': 41.8, 'prcp': 1.0, 'wspd': 17.1, 'pres': 1005.6,
             'tsun': 20100},
            {'date': '2013-05-01', 'tavg': 31.1, 'tmin': 24.3, 'tmax': 38.6, 'prcp': 2.0, 'wspd': None, 'pres': 1006.5,
             'tsun': 20820},
            {'date': '2014-05-01', 'tavg': 32.7, 'tmin': 24.8, 'tmax': 40.8, 'prcp': 11.0, 'wspd': None, 'pres': 1006.4,
             'tsun': 21420},
            {'date': '2015-05-01', 'tavg': 33.6, 'tmin': None, 'tmax': 37.2, 'prcp': None, 'wspd': None, 'pres': None,
             'tsun': None},
            {'date': '2016-05-01', 'tavg': 33.0, 'tmin': 28.7, 'tmax': 36.6, 'prcp': None, 'wspd': 16.9, 'pres': None,
             'tsun': None},
            {'date': '2017-05-01', 'tavg': 34.6, 'tmin': 29.7, 'tmax': 36.6, 'prcp': None, 'wspd': 18.7, 'pres': None,
             'tsun': None},
            {'date': '2018-05-01', 'tavg': 32.4, 'tmin': None, 'tmax': 36.2, 'prcp': None, 'wspd': None, 'pres': None,
             'tsun': None},
            {'date': '2019-05-01', 'tavg': 32.6, 'tmin': 24.8, 'tmax': 40.7, 'prcp': 0.0, 'wspd': 13.7, 'pres': 1007.0,
             'tsun': 19980},
            {'date': '2020-05-01', 'tavg': 32.4, 'tmin': 24.3, 'tmax': 40.7, 'prcp': 0.0, 'wspd': 14.4, 'pres': 1007.0,
             'tsun': 21300},
            {'date': '2021-05-01', 'tavg': 33.9, 'tmin': 25.2, 'tmax': 42.4, 'prcp': 0.5, 'wspd': 13.4, 'pres': 1004.7,
             'tsun': 22200},
            {'date': '2022-05-01', 'tavg': 31.9, 'tmin': 24.7, 'tmax': 39.7, 'prcp': None, 'wspd': 18.8, 'pres': 1005.9,
             'tsun': None},
            {'date': '2023-05-01', 'tavg': 32.5, 'tmin': 25.3, 'tmax': 39.7, 'prcp': 0.7, 'wspd': 15.1, 'pres': 1007.3,
             'tsun': None},
            {'date': '2003-06-01', 'tavg': 36.1, 'tmin': 27.9, 'tmax': 44.3, 'prcp': 0.0, 'wspd': None, 'pres': 999.6,
             'tsun': None},
            {'date': '2004-06-01', 'tavg': 35.0, 'tmin': 26.1, 'tmax': 37.2, 'prcp': 0.0, 'wspd': None, 'pres': 1001.0,
             'tsun': None},
            {'date': '2005-06-01', 'tavg': 35.2, 'tmin': 27.4, 'tmax': 43.1, 'prcp': 0.0, 'wspd': None, 'pres': 1000.6,
             'tsun': 19920},
            {'date': '2006-06-01', 'tavg': 36.0, 'tmin': 27.4, 'tmax': 44.6, 'prcp': 0.0, 'wspd': None, 'pres': 1000.7,
             'tsun': None},
            {'date': '2007-06-01', 'tavg': 35.6, 'tmin': 28.4, 'tmax': 43.3, 'prcp': 0.0, 'wspd': None, 'pres': 998.3,
             'tsun': 18780},
            {'date': '2008-06-01', 'tavg': 36.2, 'tmin': 28.7, 'tmax': 43.1, 'prcp': 0.0, 'wspd': None, 'pres': 999.3,
             'tsun': 17280},
            {'date': '2009-06-01', 'tavg': 36.1, 'tmin': 28.4, 'tmax': 44.0, 'prcp': 0.0, 'wspd': None, 'pres': 1002.2,
             'tsun': 17880},
            {'date': '2010-06-01', 'tavg': 35.9, 'tmin': 28.4, 'tmax': 44.3, 'prcp': 1.0, 'wspd': None, 'pres': 1000.4,
             'tsun': 19440},
            {'date': '2011-06-01', 'tavg': 36.1, 'tmin': 28.9, 'tmax': 43.4, 'prcp': 0.0, 'wspd': None, 'pres': 999.3,
             'tsun': 18720},
            {'date': '2012-06-01', 'tavg': 36.2, 'tmin': 28.5, 'tmax': 44.1, 'prcp': 0.0, 'wspd': None, 'pres': 1000.0,
             'tsun': 21180},
            {'date': '2013-06-01', 'tavg': 35.2, 'tmin': 27.8, 'tmax': 42.3, 'prcp': 0.0, 'wspd': None, 'pres': 999.3,
             'tsun': None},
            {'date': '2014-06-01', 'tavg': 34.9, 'tmin': 26.9, 'tmax': 43.2, 'prcp': 0.0, 'wspd': None, 'pres': 1001.2,
             'tsun': 22080},
            {'date': '2015-06-01', 'tavg': 35.8, 'tmin': 31.1, 'tmax': 38.0, 'prcp': None, 'wspd': None, 'pres': None,
             'tsun': None},
            {'date': '2016-06-01', 'tavg': 35.9, 'tmin': None, 'tmax': None, 'prcp': None, 'wspd': None, 'pres': None,
             'tsun': None},
            {'date': '2017-06-01', 'tavg': 34.5, 'tmin': None, 'tmax': None, 'prcp': None, 'wspd': None, 'pres': None,
             'tsun': None},
            {'date': '2018-06-01', 'tavg': 37.2, 'tmin': 32.6, 'tmax': 39.9, 'prcp': None, 'wspd': 19.5, 'pres': None,
             'tsun': None},
            {'date': '2019-06-01', 'tavg': 36.9, 'tmin': 28.6, 'tmax': 45.4, 'prcp': 0.0, 'wspd': 16.1, 'pres': 1000.9,
             'tsun': 22260},
            {'date': '2020-06-01', 'tavg': 36.6, 'tmin': 28.7, 'tmax': 45.0, 'prcp': 0.0, 'wspd': 18.5, 'pres': 1000.4,
             'tsun': 22500},
            {'date': '2021-06-01', 'tavg': 36.4, 'tmin': 28.6, 'tmax': 44.5, 'prcp': 0.0, 'wspd': 21.1, 'pres': 1000.7,
             'tsun': 21660},
            {'date': '2022-06-01', 'tavg': 36.2, 'tmin': 27.5, 'tmax': 45.2, 'prcp': 0.0, 'wspd': 13.4, 'pres': 999.8,
             'tsun': None},
            {'date': '2003-07-01', 'tavg': 36.8, 'tmin': 29.9, 'tmax': 44.3, 'prcp': 0.0, 'wspd': None, 'pres': 997.3,
             'tsun': 18660},
            {'date': '2004-07-01', 'tavg': 36.5, 'tmin': 28.6, 'tmax': 45.2, 'prcp': 0.0, 'wspd': None, 'pres': 998.0,
             'tsun': None},
            {'date': '2005-07-01', 'tavg': 36.5, 'tmin': 29.6, 'tmax': 44.3, 'prcp': 0.0, 'wspd': None, 'pres': 997.9,
             'tsun': 18480},
            {'date': '2006-07-01', 'tavg': 37.4, 'tmin': 30.5, 'tmax': 44.5, 'prcp': 0.0, 'wspd': None, 'pres': 997.6,
             'tsun': 19740},
            {'date': '2007-07-01', 'tavg': 36.3, 'tmin': 28.9, 'tmax': 44.9, 'prcp': 0.0, 'wspd': None, 'pres': 997.6,
             'tsun': 20460},
            {'date': '2008-07-01', 'tavg': 37.0, 'tmin': 26.5, 'tmax': 44.9, 'prcp': 0.0, 'wspd': None, 'pres': 996.9,
             'tsun': 18300},
            {'date': '2009-07-01', 'tavg': 36.9, 'tmin': 30.1, 'tmax': 43.8, 'prcp': 0.0, 'wspd': None, 'pres': 997.7,
             'tsun': 17340},
            {'date': '2010-07-01', 'tavg': 37.6, 'tmin': 30.5, 'tmax': 45.5, 'prcp': 0.0, 'wspd': None, 'pres': 997.1,
             'tsun': 19500},
            {'date': '2011-07-01', 'tavg': 36.7, 'tmin': 29.5, 'tmax': 43.7, 'prcp': 0.0, 'wspd': None, 'pres': 997.5,
             'tsun': 19380},
            {'date': '2012-07-01', 'tavg': 37.4, 'tmin': 29.8, 'tmax': 45.6, 'prcp': 0.0, 'wspd': None, 'pres': 996.5,
             'tsun': 21900},
            {'date': '2013-07-01', 'tavg': 36.5, 'tmin': 29.5, 'tmax': 44.4, 'prcp': 0.0, 'wspd': None, 'pres': 996.1,
             'tsun': 21960},
            {'date': '2014-07-01', 'tavg': 36.9, 'tmin': 29.4, 'tmax': 44.8, 'prcp': 0.0, 'wspd': None, 'pres': 998.2,
             'tsun': 22560},
            {'date': '2015-07-01', 'tavg': 37.6, 'tmin': None, 'tmax': 40.2, 'prcp': None, 'wspd': None, 'pres': None,
             'tsun': None},
            {'date': '2016-07-01', 'tavg': 37.3, 'tmin': 30.6, 'tmax': 44.7, 'prcp': None, 'wspd': 16.1, 'pres': None,
             'tsun': None},
            {'date': '2017-07-01', 'tavg': 38.3, 'tmin': None, 'tmax': None, 'prcp': None, 'wspd': None, 'pres': None,
             'tsun': None},
            {'date': '2018-07-01', 'tavg': 37.7, 'tmin': 32.9, 'tmax': 40.3, 'prcp': None, 'wspd': 17.2, 'pres': None,
             'tsun': None},
            {'date': '2019-07-01', 'tavg': 36.9, 'tmin': 29.6, 'tmax': 44.2, 'prcp': 0.0, 'wspd': 17.2, 'pres': 997.1,
             'tsun': 22200},
            {'date': '2020-07-01', 'tavg': 38.6, 'tmin': 31.2, 'tmax': 47.0, 'prcp': 0.0, 'wspd': 12.9, 'pres': 996.7,
             'tsun': 21840},
            {'date': '2021-07-01', 'tavg': 38.3, 'tmin': 31.2, 'tmax': 47.2, 'prcp': 0.0, 'wspd': 14.3, 'pres': 996.6,
             'tsun': 22140},
            {'date': '2022-07-01', 'tavg': 36.9, 'tmin': 30.6, 'tmax': 44.0, 'prcp': 1.1, 'wspd': 11.5, 'pres': 996.4,
             'tsun': None},
            {'date': '2003-08-01', 'tavg': 36.3, 'tmin': 29.2, 'tmax': 45.0, 'prcp': 0.0, 'wspd': None, 'pres': 999.2,
             'tsun': None},
            {'date': '2004-08-01', 'tavg': 35.8, 'tmin': 28.2, 'tmax': 44.1, 'prcp': 0.0, 'wspd': None, 'pres': 999.7,
             'tsun': 20520},
            {'date': '2005-08-01', 'tavg': 36.2, 'tmin': 29.0, 'tmax': 44.4, 'prcp': 0.0, 'wspd': None, 'pres': 999.3,
             'tsun': 18660},
            {'date': '2006-08-01', 'tavg': 36.0, 'tmin': 29.0, 'tmax': 44.8, 'prcp': 0.0, 'wspd': None, 'pres': 998.6,
             'tsun': 18480},
            {'date': '2007-08-01', 'tavg': 36.1, 'tmin': 28.6, 'tmax': 44.9, 'prcp': 0.0, 'wspd': None, 'pres': 998.5,
             'tsun': 19860},
            {'date': '2008-08-01', 'tavg': 36.2, 'tmin': 29.1, 'tmax': 44.6, 'prcp': 0.0, 'wspd': None, 'pres': 998.6,
             'tsun': 17460},
            {'date': '2009-08-01', 'tavg': 36.2, 'tmin': 29.4, 'tmax': 44.3, 'prcp': 0.0, 'wspd': None, 'pres': 1000.1,
             'tsun': 19200},
            {'date': '2010-08-01', 'tavg': 36.5, 'tmin': 29.7, 'tmax': 44.9, 'prcp': 0.0, 'wspd': None, 'pres': 999.0,
             'tsun': 19140},
            {'date': '2011-08-01', 'tavg': 36.1, 'tmin': 28.4, 'tmax': 44.6, 'prcp': 0.0, 'wspd': None, 'pres': 997.9,
             'tsun': 20220},
            {'date': '2012-08-01', 'tavg': 36.5, 'tmin': 29.3, 'tmax': 44.7, 'prcp': 0.0, 'wspd': 15.0, 'pres': 998.8,
             'tsun': 21240},
            {'date': '2013-08-01', 'tavg': 35.2, 'tmin': 28.7, 'tmax': 43.5, 'prcp': 0.0, 'wspd': None, 'pres': 999.2,
             'tsun': None},
            {'date': '2014-08-01', 'tavg': 36.0, 'tmin': 29.4, 'tmax': 43.8, 'prcp': 0.0, 'wspd': None, 'pres': 999.7,
             'tsun': 21420},
            {'date': '2015-08-01', 'tavg': 37.3, 'tmin': 33.0, 'tmax': 41.1, 'prcp': None, 'wspd': 13.5, 'pres': None,
             'tsun': None},
            {'date': '2016-08-01', 'tavg': 37.1, 'tmin': 33.4, 'tmax': 40.6, 'prcp': None, 'wspd': 11.9, 'pres': None,
             'tsun': None},
            {'date': '2017-08-01', 'tavg': 37.5, 'tmin': None, 'tmax': None, 'prcp': None, 'wspd': None, 'pres': None,
             'tsun': None},
            {'date': '2018-08-01', 'tavg': 36.5, 'tmin': 29.5, 'tmax': 44.3, 'prcp': 0.0, 'wspd': 16.0, 'pres': 998.4,
             'tsun': None},
            {'date': '2019-08-01', 'tavg': 36.7, 'tmin': 28.2, 'tmax': 45.3, 'prcp': 0.0, 'wspd': 14.5, 'pres': 998.9,
             'tsun': 21480},
            {'date': '2020-08-01', 'tavg': 37.1, 'tmin': 29.8, 'tmax': 45.6, 'prcp': 0.0, 'wspd': 16.1, 'pres': 997.2,
             'tsun': 21720},
            {'date': '2021-08-01', 'tavg': 37.4, 'tmin': 29.4, 'tmax': 47.0, 'prcp': 0.0, 'wspd': 13.1, 'pres': 999.6,
             'tsun': 21900},
            {'date': '2022-08-01', 'tavg': 37.1, 'tmin': 30.6, 'tmax': 44.9, 'prcp': 7.5, 'wspd': 9.2, 'pres': 997.9,
             'tsun': None},
            {'date': '2003-09-01', 'tavg': 32.5, 'tmin': None, 'tmax': None, 'prcp': 0.0, 'wspd': None, 'pres': 1004.9,
             'tsun': 18780},
            {'date': '2004-09-01', 'tavg': 31.7, 'tmin': 23.9, 'tmax': 40.8, 'prcp': 0.0, 'wspd': None, 'pres': 1005.9,
             'tsun': 18600},
            {'date': '2005-09-01', 'tavg': 32.4, 'tmin': 25.2, 'tmax': 40.3, 'prcp': 0.0, 'wspd': None, 'pres': 1003.8,
             'tsun': 18360},
            {'date': '2006-09-01', 'tavg': 32.1, 'tmin': 24.4, 'tmax': 41.1, 'prcp': 0.0, 'wspd': None, 'pres': 1005.1,
             'tsun': 18660},
            {'date': '2007-09-01', 'tavg': 33.2, 'tmin': 26.7, 'tmax': 43.5, 'prcp': 0.0, 'wspd': None, 'pres': 1001.7,
             'tsun': 18060},
            {'date': '2008-09-01', 'tavg': 33.7, 'tmin': 26.8, 'tmax': 41.9, 'prcp': 0.0, 'wspd': None, 'pres': 1004.7,
             'tsun': None},
            {'date': '2009-09-01', 'tavg': 33.1, 'tmin': 26.1, 'tmax': 41.1, 'prcp': 0.0, 'wspd': None, 'pres': 1005.1,
             'tsun': 18180},
            {'date': '2010-09-01', 'tavg': 33.8, 'tmin': 27.2, 'tmax': 41.8, 'prcp': 0.0, 'wspd': None, 'pres': 1002.8,
             'tsun': 18120},
            {'date': '2011-09-01', 'tavg': 33.2, 'tmin': 25.4, 'tmax': 41.9, 'prcp': 0.0, 'wspd': None, 'pres': 1002.0,
             'tsun': 18900},
            {'date': '2012-09-01', 'tavg': 32.9, 'tmin': 25.6, 'tmax': 41.4, 'prcp': 0.0, 'wspd': None, 'pres': 1004.3,
             'tsun': 20040},
            {'date': '2013-09-01', 'tavg': 32.7, 'tmin': 25.0, 'tmax': 41.3, 'prcp': 0.0, 'wspd': None, 'pres': 1004.4,
             'tsun': 19860},
            {'date': '2014-09-01', 'tavg': 33.5, 'tmin': 26.2, 'tmax': 42.0, 'prcp': 0.0, 'wspd': None, 'pres': 1004.5,
             'tsun': 20400},
            {'date': '2015-09-01', 'tavg': 34.4, 'tmin': 27.7, 'tmax': 42.3, 'prcp': None, 'wspd': 12.6, 'pres': None,
             'tsun': None},
            {'date': '2016-09-01', 'tavg': 33.2, 'tmin': 26.1, 'tmax': 41.2, 'prcp': None, 'wspd': 14.1, 'pres': None,
             'tsun': None},
            {'date': '2017-09-01', 'tavg': 34.5, 'tmin': None, 'tmax': None, 'prcp': None, 'wspd': None, 'pres': None,
             'tsun': None},
            {'date': '2018-09-01', 'tavg': 34.3, 'tmin': 27.2, 'tmax': 43.0, 'prcp': 0.0, 'wspd': 8.8, 'pres': 1004.5,
             'tsun': None},
            {'date': '2019-09-01', 'tavg': 33.8, 'tmin': 26.5, 'tmax': 43.2, 'prcp': 0.0, 'wspd': 12.3, 'pres': 1004.0,
             'tsun': 20220},
            {'date': '2020-09-01', 'tavg': 34.8, 'tmin': 26.7, 'tmax': 44.3, 'prcp': 0.0, 'wspd': 10.5, 'pres': 1004.1,
             'tsun': 20100},
            {'date': '2021-09-01', 'tavg': 33.7, 'tmin': 26.2, 'tmax': 43.1, 'prcp': 0.0, 'wspd': 14.9, 'pres': 1003.1,
             'tsun': 6660},
            {'date': '2022-09-01', 'tavg': 33.9, 'tmin': 26.3, 'tmax': 42.3, 'prcp': 0.0, 'wspd': 10.7, 'pres': 1003.8,
             'tsun': None},
            {'date': '2003-10-01', 'tavg': 28.8, 'tmin': 21.7, 'tmax': 37.6, 'prcp': 0.0, 'wspd': None, 'pres': 1011.6,
             'tsun': None},
            {'date': '2004-10-01', 'tavg': 28.7, 'tmin': 20.5, 'tmax': 38.5, 'prcp': 0.0, 'wspd': None, 'pres': 1012.9,
             'tsun': None},
            {'date': '2005-10-01', 'tavg': 27.2, 'tmin': 20.6, 'tmax': 35.5, 'prcp': 0.0, 'wspd': None, 'pres': 1012.8,
             'tsun': None},
            {'date': '2006-10-01', 'tavg': 29.5, 'tmin': 19.8, 'tmax': 38.4, 'prcp': 0.0, 'wspd': None, 'pres': 1012.2,
             'tsun': 17940},
            {'date': '2007-10-01', 'tavg': 28.8, 'tmin': 21.9, 'tmax': 36.9, 'prcp': 0.0, 'wspd': None, 'pres': 1012.4,
             'tsun': 18360},
            {'date': '2008-10-01', 'tavg': 28.3, 'tmin': 23.0, 'tmax': 37.7, 'prcp': 1.0, 'wspd': None, 'pres': 1010.6,
             'tsun': 16680},
            {'date': '2009-10-01', 'tavg': 28.3, 'tmin': 22.1, 'tmax': 36.9, 'prcp': 0.0, 'wspd': None, 'pres': 1010.9,
             'tsun': 16680},
            {'date': '2010-10-01', 'tavg': 29.4, 'tmin': 22.9, 'tmax': 38.0, 'prcp': 0.0, 'wspd': None, 'pres': 1009.3,
             'tsun': 18480},
            {'date': '2011-10-01', 'tavg': 27.8, 'tmin': 20.8, 'tmax': 35.7, 'prcp': 0.0, 'wspd': None, 'pres': 1011.2,
             'tsun': 18060},
            {'date': '2012-10-01', 'tavg': 29.5, 'tmin': 22.4, 'tmax': 37.6, 'prcp': 0.5, 'wspd': None, 'pres': 1011.7,
             'tsun': 18720},
            {'date': '2013-10-01', 'tavg': 26.5, 'tmin': 19.0, 'tmax': 35.1, 'prcp': 0.0, 'wspd': None, 'pres': 1011.5,
             'tsun': 19620},
            {'date': '2014-10-01', 'tavg': 29.4, 'tmin': 22.8, 'tmax': 37.3, 'prcp': 0.0, 'wspd': None, 'pres': 1011.7,
             'tsun': 19740},
            {'date': '2015-10-01', 'tavg': 31.4, 'tmin': 25.0, 'tmax': 35.4, 'prcp': None, 'wspd': 14.7, 'pres': None,
             'tsun': None},
            {'date': '2016-10-01', 'tavg': 27.8, 'tmin': 20.2, 'tmax': 36.6, 'prcp': None, 'wspd': 11.6, 'pres': None,
             'tsun': None},
            {'date': '2017-10-01', 'tavg': 30.6, 'tmin': 27.9, 'tmax': 35.0, 'prcp': None, 'wspd': None, 'pres': None,
             'tsun': None},
            {'date': '2018-10-01', 'tavg': 29.3, 'tmin': 23.5, 'tmax': 36.2, 'prcp': 21.2, 'wspd': 10.1, 'pres': 1012.4,
             'tsun': None},
            {'date': '2019-10-01', 'tavg': 31.1, 'tmin': 24.4, 'tmax': 38.9, 'prcp': 0.0, 'wspd': 10.7, 'pres': 1010.2,
             'tsun': 18840},
            {'date': '2020-10-01', 'tavg': 28.4, 'tmin': 21.3, 'tmax': 37.1, 'prcp': 0.0, 'wspd': 9.5, 'pres': 1011.4,
             'tsun': 19860},
            {'date': '2021-10-01', 'tavg': 29.6, 'tmin': 22.5, 'tmax': 38.2, 'prcp': 0.0, 'wspd': 11.5, 'pres': 1010.6,
             'tsun': 19380},
            {'date': '2022-10-01', 'tavg': 29.2, 'tmin': 21.7, 'tmax': 38.3, 'prcp': 0.0, 'wspd': 9.2, 'pres': 1011.1,
             'tsun': None},
            {'date': '2003-11-01', 'tavg': 21.6, 'tmin': 15.9, 'tmax': 28.3, 'prcp': 1.0, 'wspd': None, 'pres': 1017.0,
             'tsun': None},
            {'date': '2004-11-01', 'tavg': 23.3, 'tmin': 17.4, 'tmax': 30.7, 'prcp': 1.0, 'wspd': None, 'pres': 1016.1,
             'tsun': None},
            {'date': '2005-11-01', 'tavg': 22.4, 'tmin': 17.5, 'tmax': 28.4, 'prcp': 8.0, 'wspd': None, 'pres': 1016.1,
             'tsun': 14460},
            {'date': '2006-11-01', 'tavg': 22.0, 'tmin': 16.7, 'tmax': 28.3, 'prcp': 23.0, 'wspd': None, 'pres': 1015.9,
             'tsun': 13020},
            {'date': '2007-11-01', 'tavg': 22.2, 'tmin': 15.3, 'tmax': 30.6, 'prcp': 0.0, 'wspd': None, 'pres': 1015.9,
             'tsun': 17100},
            {'date': '2008-11-01', 'tavg': 21.3, 'tmin': 16.2, 'tmax': 27.7, 'prcp': 15.0, 'wspd': None, 'pres': 1016.9,
             'tsun': 13380},
            {'date': '2009-11-01', 'tavg': 23.3, 'tmin': 17.3, 'tmax': 30.0, 'prcp': 1.0, 'wspd': None, 'pres': 1014.6,
             'tsun': 14220},
            {'date': '2010-11-01', 'tavg': 21.9, 'tmin': 15.5, 'tmax': 29.9, 'prcp': 0.0, 'wspd': None, 'pres': 1015.1,
             'tsun': 16140},
            {'date': '2011-11-01', 'tavg': 20.2, 'tmin': 14.8, 'tmax': 26.5, 'prcp': 46.0, 'wspd': 16.2, 'pres': 1015.3,
             'tsun': 15060},
            {'date': '2012-11-01', 'tavg': 22.6, 'tmin': 17.2, 'tmax': 29.0, 'prcp': 6.0, 'wspd': None, 'pres': 1015.2,
             'tsun': 15180},
            {'date': '2013-11-01', 'tavg': 22.1, 'tmin': 16.8, 'tmax': 28.1, 'prcp': 52.0, 'wspd': None, 'pres': 1015.6,
             'tsun': 15000},
            {'date': '2014-11-01', 'tavg': 21.8, 'tmin': 16.2, 'tmax': 27.9, 'prcp': 27.0, 'wspd': None, 'pres': 1017.0,
             'tsun': 15060},
            {'date': '2015-11-01', 'tavg': 23.0, 'tmin': 18.6, 'tmax': 28.2, 'prcp': None, 'wspd': None, 'pres': None,
             'tsun': None},
            {'date': '2016-11-01', 'tavg': 21.8, 'tmin': 15.9, 'tmax': 29.0, 'prcp': None, 'wspd': 14.9, 'pres': None,
             'tsun': None},
            {'date': '2017-11-01', 'tavg': 24.4, 'tmin': 23.6, 'tmax': 28.9, 'prcp': None, 'wspd': 14.1, 'pres': None,
             'tsun': None},
            {'date': '2018-11-01', 'tavg': 22.9, 'tmin': 19.1, 'tmax': 27.4, 'prcp': 37.6, 'wspd': 14.6, 'pres': 1016.5,
             'tsun': None},
            {'date': '2019-11-01', 'tavg': 22.7, 'tmin': 17.1, 'tmax': 29.0, 'prcp': 9.0, 'wspd': 11.0, 'pres': 1016.1,
             'tsun': 15420},
            {'date': '2020-11-01', 'tavg': 24.3, 'tmin': 18.0, 'tmax': 31.2, 'prcp': 0.5, 'wspd': 12.5, 'pres': 1015.7,
             'tsun': 16080},
            {'date': '2021-11-01', 'tavg': 21.6, 'tmin': 17.0, 'tmax': 31.4, 'prcp': 0.0, 'wspd': 12.2, 'pres': 1014.8,
             'tsun': 17400},
            {'date': '2022-11-01', 'tavg': 25.3, 'tmin': 19.2, 'tmax': 32.1, 'prcp': 1.0, 'wspd': 13.5, 'pres': 1014.7,
             'tsun': None},
            {'date': '2003-12-01', 'tavg': 17.3, 'tmin': 12.8, 'tmax': 23.4, 'prcp': 18.0, 'wspd': None, 'pres': 1018.2,
             'tsun': None},
            {'date': '2004-12-01', 'tavg': 14.7, 'tmin': 10.3, 'tmax': 20.0, 'prcp': 45.0, 'wspd': None, 'pres': 1019.2,
             'tsun': 11880},
            {'date': '2005-12-01', 'tavg': 18.1, 'tmin': 12.6, 'tmax': 25.2, 'prcp': 0.0, 'wspd': None, 'pres': 1018.1,
             'tsun': 14640},
            {'date': '2006-12-01', 'tavg': 13.4, 'tmin': 9.7, 'tmax': 18.2, 'prcp': 78.0, 'wspd': None, 'pres': 1020.1,
             'tsun': 12480},
            {'date': '2007-12-01', 'tavg': 16.5, 'tmin': 10.6, 'tmax': 23.3, 'prcp': 0.0, 'wspd': None, 'pres': 1019.0,
             'tsun': 14040},
            {'date': '2008-12-01', 'tavg': 15.0, 'tmin': 8.5, 'tmax': 22.9, 'prcp': 0.0, 'wspd': None, 'pres': 1019.2,
             'tsun': 16080},
            {'date': '2009-12-01', 'tavg': 18.0, 'tmin': 13.7, 'tmax': 22.9, 'prcp': 67.0, 'wspd': None, 'pres': 1016.9,
             'tsun': 12780},
            {'date': '2010-12-01', 'tavg': 16.8, 'tmin': 10.3, 'tmax': 25.1, 'prcp': 0.0, 'wspd': None, 'pres': 1016.9,
             'tsun': 14520},
            {'date': '2011-12-01', 'tavg': 14.2, 'tmin': 9.0, 'tmax': 20.9, 'prcp': 0.0, 'wspd': None, 'pres': 1020.4,
             'tsun': 16380},
            {'date': '2012-12-01', 'tavg': 18.1, 'tmin': 13.7, 'tmax': 23.5, 'prcp': 9.0, 'wspd': None, 'pres': 1017.6,
             'tsun': 13500},
            {'date': '2013-12-01', 'tavg': 16.2, 'tmin': 11.5, 'tmax': 22.3, 'prcp': 0.0, 'wspd': None, 'pres': 1020.0,
             'tsun': None},
            {'date': '2014-12-01', 'tavg': 17.5, 'tmin': 12.0, 'tmax': 24.2, 'prcp': 0.0, 'wspd': None, 'pres': 1020.1,
             'tsun': 17280},
            {'date': '2015-12-01', 'tavg': 17.3, 'tmin': 17.2, 'tmax': 21.8, 'prcp': None, 'wspd': 17.6, 'pres': None,
             'tsun': None},
            {'date': '2016-12-01', 'tavg': 17.6, 'tmin': 12.4, 'tmax': 24.1, 'prcp': None, 'wspd': 18.0, 'pres': None,
             'tsun': None},
            {'date': '2017-12-01', 'tavg': 17.4, 'tmin': 16.8, 'tmax': 22.8, 'prcp': None, 'wspd': None, 'pres': None,
             'tsun': None},
            {'date': '2018-12-01', 'tavg': 18.8, 'tmin': 14.4, 'tmax': 24.2, 'prcp': 1.5, 'wspd': 11.7, 'pres': 1018.9,
             'tsun': None},
            {'date': '2019-12-01', 'tavg': 18.4, 'tmin': 13.5, 'tmax': 23.8, 'prcp': 50.0, 'wspd': 13.8, 'pres': 1017.9,
             'tsun': None},
            {'date': '2020-12-01', 'tavg': 18.6, 'tmin': 13.8, 'tmax': 24.4, 'prcp': 35.0, 'wspd': 14.3, 'pres': 1019.1,
             'tsun': 16080},
            {'date': '2021-12-01', 'tavg': 18.5, 'tmin': 13.0, 'tmax': 24.9, 'prcp': 58.1, 'wspd': 14.1, 'pres': 1018.2,
             'tsun': None},
            {'date': '2022-12-01', 'tavg': 19.2, 'tmin': 14.1, 'tmax': 25.0, 'prcp': 3.4, 'wspd': 14.5, 'pres': 1017.9,
             'tsun': None}
        ]
}

sorted_data_list = sorted(data.get('data'), key=lambda x: int(x['date'][5:7]))
print(sorted_data_list)
# print(data)
area = 1000  # м²
panels_num = get_panels_num(area)
g = [
    {'date': '2016-01-01', 'tavg': 16.1, 'prcp': None, 'wspd': 20.0, 'pres': None,
     'tsun': None},
    {'date': '2020-01-01', 'tavg': 15.7, 'prcp': 26.0, 'wspd': 15.8, 'pres': 1018.5,
     'tsun': 15720},
]
# for month in sorted_data_list[12:17]:
for month in g:
    monthly_production = get_efficiency(panels_num, get_pr_adj(month), month)
    print(f'{month["date"]} : {round(monthly_production, 2)} kWh')
